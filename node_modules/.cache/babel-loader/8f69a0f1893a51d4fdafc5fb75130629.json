{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/src/containers/BurgerBuilder/BurgerBuilder.js\";\nimport React, { Component } from \"react\";\nimport Aux from \"../../hoc/Aux\";\nimport Burger from \"../../components/Burger/Burger\";\nimport BuildControl from \"../../components/Burger/BuildControls/BuildControls\";\nimport Modal from \"../../components/UI/Modal/Modal\";\nimport OrderSummary from \"../../components/Burger/OrderSummary/OrderSummary\";\nconst INGREDIENT_PRICES = {\n  salad: 0.5,\n  cheese: 0.4,\n  meat: 1.3,\n  bacon: 0.7\n};\n\nclass BurgerBuilder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      ingredients: {\n        salad: 0,\n        bacon: 0,\n        cheese: 0,\n        meat: 0\n      },\n      totalPrice: 4,\n      purchaseable: false,\n      purchasing: false\n    };\n\n    this.addIngredientHandler = type => {\n      const oldCount = this.state.ingredients[type];\n      const updatedCount = oldCount + 1;\n      const updateIngredients = { ...this.state.ingredients\n      };\n      updateIngredients[type] = updatedCount;\n      const priceAddition = INGREDIENT_PRICES[type];\n      const oldPrice = this.state.totalPrice;\n      const newPrice = oldPrice + priceAddition;\n      this.setState({\n        totalPrice: newPrice,\n        ingredients: updateIngredients\n      });\n      this.updatePurchaseState(updateIngredients);\n    };\n\n    this.removeIngredientHandler = type => {\n      const oldCount = this.state.ingredients[type];\n\n      if (oldCount <= 0) {\n        return;\n      }\n\n      const updatedCount = oldCount - 1;\n      const updateIngredients = { ...this.state.ingredients\n      };\n      updateIngredients[type] = updatedCount;\n      const priceAddition = INGREDIENT_PRICES[type];\n      const oldPrice = this.state.totalPrice;\n      const newPrice = oldPrice - priceAddition;\n      this.setState({\n        totalPrice: newPrice,\n        ingredients: updateIngredients\n      });\n      this.updatePurchaseState(updateIngredients);\n    };\n  }\n\n  updatePurchaseState(ingredients) {\n    const sum = Object.keys(ingredients).map(igKey => {\n      return ingredients[igKey];\n    }).reduce((sum, el) => {\n      return sum + el;\n    }, 0);\n    this.setState({\n      purchaseable: sum > 0\n    });\n  }\n\n  purchaseHandler() {\n    this.setState({\n      purchasing: true\n    });\n  }\n\n  render() {\n    const disabledInfo = { ...this.state.ingredients\n    };\n\n    for (let key in disabledInfo) {\n      disabledInfo[key] = disabledInfo[key] <= 0;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Aux, {\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        children: /*#__PURE__*/_jsxDEV(OrderSummary, {\n          ingredients: this.state.ingredients\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Burger, {\n        ingredients: this.state.ingredients\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(BuildControl, {\n        price: this.state.totalPrice,\n        ingredientAdded: this.addIngredientHandler,\n        ingredientRemoved: this.removeIngredientHandler,\n        disabled: disabledInfo,\n        purchaseable: this.state.purchaseable,\n        ordered: this.purchaseHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default BurgerBuilder;","map":{"version":3,"sources":["/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/src/containers/BurgerBuilder/BurgerBuilder.js"],"names":["React","Component","Aux","Burger","BuildControl","Modal","OrderSummary","INGREDIENT_PRICES","salad","cheese","meat","bacon","BurgerBuilder","state","ingredients","totalPrice","purchaseable","purchasing","addIngredientHandler","type","oldCount","updatedCount","updateIngredients","priceAddition","oldPrice","newPrice","setState","updatePurchaseState","removeIngredientHandler","sum","Object","keys","map","igKey","reduce","el","purchaseHandler","render","disabledInfo","key"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport Aux from \"../../hoc/Aux\";\nimport Burger from \"../../components/Burger/Burger\";\nimport BuildControl from \"../../components/Burger/BuildControls/BuildControls\";\nimport Modal from \"../../components/UI/Modal/Modal\";\nimport OrderSummary from \"../../components/Burger/OrderSummary/OrderSummary\";\n\nconst INGREDIENT_PRICES = {\n\tsalad: 0.5,\n\tcheese: 0.4,\n\tmeat: 1.3,\n\tbacon: 0.7,\n};\n\nclass BurgerBuilder extends Component {\n\tstate = {\n\t\tingredients: {\n\t\t\tsalad: 0,\n\t\t\tbacon: 0,\n\t\t\tcheese: 0,\n\t\t\tmeat: 0,\n\t\t},\n\t\ttotalPrice: 4,\n\t\tpurchaseable: false,\n\t\tpurchasing: false,\n\t};\n\n\taddIngredientHandler = (type) => {\n\t\tconst oldCount = this.state.ingredients[type];\n\t\tconst updatedCount = oldCount + 1;\n\t\tconst updateIngredients = {\n\t\t\t...this.state.ingredients,\n\t\t};\n\t\tupdateIngredients[type] = updatedCount;\n\t\tconst priceAddition = INGREDIENT_PRICES[type];\n\t\tconst oldPrice = this.state.totalPrice;\n\t\tconst newPrice = oldPrice + priceAddition;\n\n\t\tthis.setState({ totalPrice: newPrice, ingredients: updateIngredients });\n\t\tthis.updatePurchaseState(updateIngredients);\n\t};\n\tremoveIngredientHandler = (type) => {\n\t\tconst oldCount = this.state.ingredients[type];\n\t\tif (oldCount <= 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst updatedCount = oldCount - 1;\n\t\tconst updateIngredients = {\n\t\t\t...this.state.ingredients,\n\t\t};\n\t\tupdateIngredients[type] = updatedCount;\n\t\tconst priceAddition = INGREDIENT_PRICES[type];\n\t\tconst oldPrice = this.state.totalPrice;\n\t\tconst newPrice = oldPrice - priceAddition;\n\n\t\tthis.setState({ totalPrice: newPrice, ingredients: updateIngredients });\n\t\tthis.updatePurchaseState(updateIngredients);\n\t};\n\n\tupdatePurchaseState(ingredients) {\n\t\tconst sum = Object.keys(ingredients)\n\t\t\t.map((igKey) => {\n\t\t\t\treturn ingredients[igKey];\n\t\t\t})\n\t\t\t.reduce((sum, el) => {\n\t\t\t\treturn sum + el;\n\t\t\t}, 0);\n\t\tthis.setState({ purchaseable: sum > 0 });\n\t}\n\n\tpurchaseHandler() {\n\t\tthis.setState({ purchasing: true });\n\t}\n\n\trender() {\n\t\tconst disabledInfo = {\n\t\t\t...this.state.ingredients,\n\t\t};\n\t\tfor (let key in disabledInfo) {\n\t\t\tdisabledInfo[key] = disabledInfo[key] <= 0;\n\t\t}\n\t\treturn (\n\t\t\t<Aux>\n\t\t\t\t<Modal>\n\t\t\t\t\t<OrderSummary ingredients={this.state.ingredients} />\n\t\t\t\t</Modal>\n\t\t\t\t<Burger ingredients={this.state.ingredients} />\n\t\t\t\t<BuildControl\n\t\t\t\t\tprice={this.state.totalPrice}\n\t\t\t\t\tingredientAdded={this.addIngredientHandler}\n\t\t\t\t\tingredientRemoved={this.removeIngredientHandler}\n\t\t\t\t\tdisabled={disabledInfo}\n\t\t\t\t\tpurchaseable={this.state.purchaseable}\n\t\t\t\t\tordered={this.purchaseHandler}\n\t\t\t\t/>\n\t\t\t</Aux>\n\t\t);\n\t}\n}\n\nexport default BurgerBuilder;\n"]},"metadata":{},"sourceType":"module"}