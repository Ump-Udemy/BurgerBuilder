{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/src/containers/Checkout/ContactData/ContactData.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Button from \"../../../components/UI/Button/Button\";\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\nimport Input from \"../../../components/UI/Input/Input\";\nimport classes from \"./ContactData.module.css\";\nimport axios from \"../../../axios-orders\";\nimport withErrorHandler from \"../../../hoc/withErrorHandler/withErrorHandler\";\nimport * as actions from \"../../../store/actions/index\";\nimport { updateObject } from \"../../../shared/utillity\";\n\nclass ContactData extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orderForm: {\n        name: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"text\",\n            placeholder: \"Your Name\"\n          },\n          value: \"\",\n          validation: {\n            required: true\n          },\n          valid: false,\n          touched: false\n        },\n        street: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"text\",\n            placeholder: \"Street\"\n          },\n          value: \"\",\n          validation: {\n            required: true\n          },\n          valid: false,\n          touched: false\n        },\n        zipCode: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"text\",\n            placeholder: \"ZIP Code\"\n          },\n          value: \"\",\n          validation: {\n            required: true,\n            minLength: 5,\n            maxLength: 5,\n            isNumeric: true\n          },\n          valid: false,\n          touched: false\n        },\n        country: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"text\",\n            placeholder: \"Country\"\n          },\n          value: \"\",\n          validation: {\n            required: true\n          },\n          valid: false,\n          touched: false\n        },\n        email: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"email\",\n            placeholder: \"Your E-Mail\"\n          },\n          value: \"\",\n          validation: {\n            required: true,\n            isEmail: true\n          },\n          valid: false,\n          touched: false\n        },\n        deliveryMethod: {\n          elementType: \"select\",\n          elementConfig: {\n            options: [{\n              value: \"fastest\",\n              displayValue: \"Fastest\"\n            }, {\n              value: \"cheapest\",\n              displayValue: \"Cheapest\"\n            }]\n          },\n          value: \"fastest\",\n          validation: {},\n          valid: \"true\"\n        }\n      },\n      formIsValid: false\n    };\n\n    this.orderHandler = event => {\n      event.preventDefault();\n      const formData = {};\n\n      for (let formElementIdentifier in this.state.orderForm) {\n        formData[formElementIdentifier] = this.state.orderForm[formElementIdentifier].value;\n      }\n\n      const order = {\n        ingredients: this.props.ingredients,\n        price: this.props.totalPrice,\n        orderData: formData,\n        userId: this.props.userId\n      };\n      this.props.onOrderBurger(order, this.props.token);\n    };\n\n    this.inputChangedHandler = (event, inputIdentifier) => {\n      const updatedOrderForm = { ...this.state.orderForm\n      };\n      const updatedFormElement = updateObject(this.state.orderForm[inputIdentifier], {\n        value: event.target.value,\n        valid: this.checkValidaity(updatedFormElement.value, updatedFormElement.validation),\n        touched: true\n      });\n      updatedOrderForm[inputIdentifier] = updatedFormElement;\n      let formIsValid = true;\n\n      for (let inputIdentifier in updatedOrderForm) {\n        formIsValid = updatedOrderForm[inputIdentifier].valid && formIsValid;\n      }\n\n      this.setState({\n        orderForm: updatedOrderForm,\n        formIsValid: formIsValid\n      });\n    };\n  }\n\n  checkValidaity(value, rules) {\n    let isValid = true;\n\n    if (rules.required) {\n      isValid = value.trim() !== \" \" && isValid;\n    }\n\n    if (rules.minLength) {\n      isValid = value.length >= rules.minLength && isValid;\n    }\n\n    if (rules.maxLength) {\n      isValid = value.length <= rules.maxLength && isValid;\n    }\n\n    if (rules.isEmail) {\n      const pattern = /[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n      isValid = pattern.test(value) && isValid;\n    }\n\n    if (rules.isNumeric) {\n      const pattern = /^\\d+$/;\n      isValid = pattern.test(value) && isValid;\n    }\n\n    return isValid;\n  }\n\n  render() {\n    const formElementsArray = [];\n\n    for (let key in this.state.orderForm) {\n      formElementsArray.push({\n        id: key,\n        config: this.state.orderForm[key]\n      });\n    }\n\n    let form = /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.orderHandler,\n      children: [formElementsArray.map(formElement => /*#__PURE__*/_jsxDEV(Input, {\n        elementType: formElement.config.elementType,\n        elementConfig: formElement.config.elementConfig,\n        value: formElement.config.value,\n        invalid: !formElement.config.valid,\n        shouldValidate: formElement.config.validation,\n        touched: formElement.config.touched,\n        changed: event => this.inputChangedHandler(event, formElement.id)\n      }, formElement.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 6\n      }, this)), /*#__PURE__*/_jsxDEV(Button, {\n        btnType: \"Success\",\n        disabled: !this.state.formIsValid,\n        children: \"ORDER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 4\n    }, this);\n\n    if (this.props.loading) {\n      form = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.ContactData,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Enter your Contact Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 5\n      }, this), form]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    ingredients: state.burgerBuilder.ingredients,\n    totalPrice: state.burgerBuilder.totalPrice,\n    loading: state.order.loading,\n    token: state.auth.token,\n    userId: state.auth.userId\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOrderBurger: (orderData, token) => dispatch(actions.purchaseBurger(orderData, token))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(ContactData, axios));","map":{"version":3,"sources":["/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/src/containers/Checkout/ContactData/ContactData.js"],"names":["React","Component","connect","Button","Spinner","Input","classes","axios","withErrorHandler","actions","updateObject","ContactData","state","orderForm","name","elementType","elementConfig","type","placeholder","value","validation","required","valid","touched","street","zipCode","minLength","maxLength","isNumeric","country","email","isEmail","deliveryMethod","options","displayValue","formIsValid","orderHandler","event","preventDefault","formData","formElementIdentifier","order","ingredients","props","price","totalPrice","orderData","userId","onOrderBurger","token","inputChangedHandler","inputIdentifier","updatedOrderForm","updatedFormElement","target","checkValidaity","setState","rules","isValid","trim","length","pattern","test","render","formElementsArray","key","push","id","config","form","map","formElement","loading","mapStateToProps","burgerBuilder","auth","mapDispatchToProps","dispatch","purchaseBurger"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport Button from \"../../../components/UI/Button/Button\";\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\nimport Input from \"../../../components/UI/Input/Input\";\nimport classes from \"./ContactData.module.css\";\nimport axios from \"../../../axios-orders\";\nimport withErrorHandler from \"../../../hoc/withErrorHandler/withErrorHandler\";\nimport * as actions from \"../../../store/actions/index\";\nimport { updateObject } from \"../../../shared/utillity\";\n\nclass ContactData extends Component {\n\tstate = {\n\t\torderForm: {\n\t\t\tname: {\n\t\t\t\telementType: \"input\",\n\t\t\t\telementConfig: {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\tplaceholder: \"Your Name\",\n\t\t\t\t},\n\t\t\t\tvalue: \"\",\n\t\t\t\tvalidation: {\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\tvalid: false,\n\t\t\t\ttouched: false,\n\t\t\t},\n\t\t\tstreet: {\n\t\t\t\telementType: \"input\",\n\t\t\t\telementConfig: {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\tplaceholder: \"Street\",\n\t\t\t\t},\n\t\t\t\tvalue: \"\",\n\t\t\t\tvalidation: {\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\tvalid: false,\n\t\t\t\ttouched: false,\n\t\t\t},\n\t\t\tzipCode: {\n\t\t\t\telementType: \"input\",\n\t\t\t\telementConfig: {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\tplaceholder: \"ZIP Code\",\n\t\t\t\t},\n\t\t\t\tvalue: \"\",\n\t\t\t\tvalidation: {\n\t\t\t\t\trequired: true,\n\t\t\t\t\tminLength: 5,\n\t\t\t\t\tmaxLength: 5,\n\t\t\t\t\tisNumeric: true,\n\t\t\t\t},\n\t\t\t\tvalid: false,\n\t\t\t\ttouched: false,\n\t\t\t},\n\t\t\tcountry: {\n\t\t\t\telementType: \"input\",\n\t\t\t\telementConfig: {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\tplaceholder: \"Country\",\n\t\t\t\t},\n\t\t\t\tvalue: \"\",\n\t\t\t\tvalidation: {\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\tvalid: false,\n\t\t\t\ttouched: false,\n\t\t\t},\n\t\t\temail: {\n\t\t\t\telementType: \"input\",\n\t\t\t\telementConfig: {\n\t\t\t\t\ttype: \"email\",\n\t\t\t\t\tplaceholder: \"Your E-Mail\",\n\t\t\t\t},\n\t\t\t\tvalue: \"\",\n\t\t\t\tvalidation: {\n\t\t\t\t\trequired: true,\n\t\t\t\t\tisEmail: true,\n\t\t\t\t},\n\t\t\t\tvalid: false,\n\t\t\t\ttouched: false,\n\t\t\t},\n\t\t\tdeliveryMethod: {\n\t\t\t\telementType: \"select\",\n\t\t\t\telementConfig: {\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{ value: \"fastest\", displayValue: \"Fastest\" },\n\t\t\t\t\t\t{ value: \"cheapest\", displayValue: \"Cheapest\" },\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\tvalue: \"fastest\",\n\t\t\t\tvalidation: {},\n\t\t\t\tvalid: \"true\",\n\t\t\t},\n\t\t},\n\t\tformIsValid: false,\n\t};\n\torderHandler = (event) => {\n\t\tevent.preventDefault();\n\t\tconst formData = {};\n\t\tfor (let formElementIdentifier in this.state.orderForm) {\n\t\t\tformData[formElementIdentifier] = this.state.orderForm[\n\t\t\t\tformElementIdentifier\n\t\t\t].value;\n\t\t}\n\t\tconst order = {\n\t\t\tingredients: this.props.ingredients,\n\t\t\tprice: this.props.totalPrice,\n\t\t\torderData: formData,\n\t\t\tuserId: this.props.userId,\n\t\t};\n\t\tthis.props.onOrderBurger(order, this.props.token);\n\t};\n\n\tcheckValidaity(value, rules) {\n\t\tlet isValid = true;\n\t\tif (rules.required) {\n\t\t\tisValid = value.trim() !== \" \" && isValid;\n\t\t}\n\n\t\tif (rules.minLength) {\n\t\t\tisValid = value.length >= rules.minLength && isValid;\n\t\t}\n\n\t\tif (rules.maxLength) {\n\t\t\tisValid = value.length <= rules.maxLength && isValid;\n\t\t}\n\t\tif (rules.isEmail) {\n\t\t\tconst pattern = /[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n\t\t\tisValid = pattern.test(value) && isValid;\n\t\t}\n\n\t\tif (rules.isNumeric) {\n\t\t\tconst pattern = /^\\d+$/;\n\t\t\tisValid = pattern.test(value) && isValid;\n\t\t}\n\n\t\treturn isValid;\n\t}\n\n\tinputChangedHandler = (event, inputIdentifier) => {\n\t\tconst updatedOrderForm = { ...this.state.orderForm };\n\t\tconst updatedFormElement = updateObject(\n\t\t\tthis.state.orderForm[inputIdentifier],\n\t\t\t{\n\t\t\t\tvalue: event.target.value,\n\t\t\t\tvalid: this.checkValidaity(\n\t\t\t\t\tupdatedFormElement.value,\n\t\t\t\t\tupdatedFormElement.validation\n\t\t\t\t),\n\t\t\t\ttouched: true,\n\t\t\t}\n\t\t);\n\t\tupdatedOrderForm[inputIdentifier] = updatedFormElement;\n\t\tlet formIsValid = true;\n\t\tfor (let inputIdentifier in updatedOrderForm) {\n\t\t\tformIsValid = updatedOrderForm[inputIdentifier].valid && formIsValid;\n\t\t}\n\t\tthis.setState({ orderForm: updatedOrderForm, formIsValid: formIsValid });\n\t};\n\n\trender() {\n\t\tconst formElementsArray = [];\n\t\tfor (let key in this.state.orderForm) {\n\t\t\tformElementsArray.push({\n\t\t\t\tid: key,\n\t\t\t\tconfig: this.state.orderForm[key],\n\t\t\t});\n\t\t}\n\t\tlet form = (\n\t\t\t<form onSubmit={this.orderHandler}>\n\t\t\t\t{formElementsArray.map((formElement) => (\n\t\t\t\t\t<Input\n\t\t\t\t\t\tkey={formElement.id}\n\t\t\t\t\t\telementType={formElement.config.elementType}\n\t\t\t\t\t\telementConfig={formElement.config.elementConfig}\n\t\t\t\t\t\tvalue={formElement.config.value}\n\t\t\t\t\t\tinvalid={!formElement.config.valid}\n\t\t\t\t\t\tshouldValidate={formElement.config.validation}\n\t\t\t\t\t\ttouched={formElement.config.touched}\n\t\t\t\t\t\tchanged={(event) => this.inputChangedHandler(event, formElement.id)}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t\t<Button btnType='Success' disabled={!this.state.formIsValid}>\n\t\t\t\t\tORDER\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t);\n\t\tif (this.props.loading) {\n\t\t\tform = <Spinner />;\n\t\t}\n\t\treturn (\n\t\t\t<div className={classes.ContactData}>\n\t\t\t\t<h4>Enter your Contact Data</h4>\n\t\t\t\t{form}\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tingredients: state.burgerBuilder.ingredients,\n\t\ttotalPrice: state.burgerBuilder.totalPrice,\n\t\tloading: state.order.loading,\n\t\ttoken: state.auth.token,\n\t\tuserId: state.auth.userId,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonOrderBurger: (orderData, token) =>\n\t\t\tdispatch(actions.purchaseBurger(orderData, token)),\n\t};\n};\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withErrorHandler(ContactData, axios));\n"]},"metadata":{},"sourceType":"module"}