{"ast":null,"code":"import _objectSpread from\"/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import*as actionTypes from\"./actionTypes\";import axios from\"../../axios-orders\";export var purchaseBurgerSuccess=function purchaseBurgerSuccess(id,orderData){return{type:actionTypes.PURCHASE_BURGER_SUCCESS,orderId:id,orderData:orderData};};export var purchaseBurgerFailed=function purchaseBurgerFailed(error){return{type:actionTypes.PURCHASE_BURGER_FAILED,error:error};};export var purchaseBurgerStart=function purchaseBurgerStart(){return{type:actionTypes.PURCHASE_BURGER_START};};export var purchaseBurger=function purchaseBurger(orderData,token){return function(dispatch){dispatch(purchaseBurgerStart());axios.post(\"/orders.json?auth=\"+token,orderData).then(function(response){dispatch(purchaseBurgerSuccess(response.data.name,orderData));}).catch(function(error){dispatch(purchaseBurgerFailed(error));});};};export var purchaseInit=function purchaseInit(){return{type:actionTypes.PURCHASE_INIT};};export var fetchOrdersSuccess=function fetchOrdersSuccess(orders){return{type:actionTypes.FETCH_ORDERS_SUCCESS,orders:orders};};export var fetchOrderFailed=function fetchOrderFailed(error){return{type:actionTypes.FETCH_ORDERS_FAILED,error:error};};export var fetchOrdersStart=function fetchOrdersStart(){return{type:actionTypes.FETCH_ORDERS_START};};export var fetchOrders=function fetchOrders(token,userId){return function(dispatch){dispatch(fetchOrdersStart());var queryParams=\"?auth=\"+token+'&orderBy=\"userId\"&equalTo=\"'+userId+'\"';axios.get(\"/orders.json\"+queryParams).then(function(response){var fecthedOrders=[];for(var key in response.data){fecthedOrders.push(_objectSpread(_objectSpread({},response.data[key]),{},{id:key}));}dispatch(fetchOrdersSuccess(fecthedOrders));}).catch(function(error){dispatch(fetchOrderFailed(error));});};};","map":{"version":3,"sources":["/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/src/store/actions/order.js"],"names":["actionTypes","axios","purchaseBurgerSuccess","id","orderData","type","PURCHASE_BURGER_SUCCESS","orderId","purchaseBurgerFailed","error","PURCHASE_BURGER_FAILED","purchaseBurgerStart","PURCHASE_BURGER_START","purchaseBurger","token","dispatch","post","then","response","data","name","catch","purchaseInit","PURCHASE_INIT","fetchOrdersSuccess","orders","FETCH_ORDERS_SUCCESS","fetchOrderFailed","FETCH_ORDERS_FAILED","fetchOrdersStart","FETCH_ORDERS_START","fetchOrders","userId","queryParams","get","fecthedOrders","key","push"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./actionTypes\";\nimport axios from \"../../axios-orders\";\n\nexport const purchaseBurgerSuccess = (id, orderData) => {\n\treturn {\n\t\ttype: actionTypes.PURCHASE_BURGER_SUCCESS,\n\t\torderId: id,\n\t\torderData: orderData,\n\t};\n};\n\nexport const purchaseBurgerFailed = (error) => {\n\treturn {\n\t\ttype: actionTypes.PURCHASE_BURGER_FAILED,\n\t\terror: error,\n\t};\n};\n\nexport const purchaseBurgerStart = () => {\n\treturn {\n\t\ttype: actionTypes.PURCHASE_BURGER_START,\n\t};\n};\n\nexport const purchaseBurger = (orderData, token) => {\n\treturn (dispatch) => {\n\t\tdispatch(purchaseBurgerStart());\n\t\taxios\n\t\t\t.post(\"/orders.json?auth=\" + token, orderData)\n\t\t\t.then((response) => {\n\t\t\t\tdispatch(purchaseBurgerSuccess(response.data.name, orderData));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(purchaseBurgerFailed(error));\n\t\t\t});\n\t};\n};\n\nexport const purchaseInit = () => {\n\treturn {\n\t\ttype: actionTypes.PURCHASE_INIT,\n\t};\n};\n\nexport const fetchOrdersSuccess = (orders) => {\n\treturn { type: actionTypes.FETCH_ORDERS_SUCCESS, orders: orders };\n};\n\nexport const fetchOrderFailed = (error) => {\n\treturn {\n\t\ttype: actionTypes.FETCH_ORDERS_FAILED,\n\t\terror: error,\n\t};\n};\n\nexport const fetchOrdersStart = () => {\n\treturn {\n\t\ttype: actionTypes.FETCH_ORDERS_START,\n\t};\n};\nexport const fetchOrders = (token, userId) => {\n\treturn (dispatch) => {\n\t\tdispatch(fetchOrdersStart());\n\t\tconst queryParams =\n\t\t\t\"?auth=\" + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"';\n\t\taxios\n\t\t\t.get(\"/orders.json\" + queryParams)\n\t\t\t.then((response) => {\n\t\t\t\tconst fecthedOrders = [];\n\t\t\t\tfor (let key in response.data) {\n\t\t\t\t\tfecthedOrders.push({ ...response.data[key], id: key });\n\t\t\t\t}\n\t\t\t\tdispatch(fetchOrdersSuccess(fecthedOrders));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatch(fetchOrderFailed(error));\n\t\t\t});\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}