{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Modal from\"../../components/UI/Modal/Modal\";import Aux from\"../Aux/Aux\";var withErrorHandler=function withErrorHandler(WrappedComponet,axios){var _temp;return _temp=/*#__PURE__*/function(_Component){_inherits(_temp,_Component);var _super=_createSuper(_temp);function _temp(props){var _this;_classCallCheck(this,_temp);_this=_super.call(this,props);_this.errorConfirmedHandler=function(){_this.setState({error:null});};_this.state={error:null};_this.reqInterceptor=axios.interceptors.request.use(function(req){_this.setState({error:null});return req;});_this.resInterceptor=axios.interceptors.response.use(function(res){return res;},function(error){_this.setState({error:error});});return _this;}_createClass(_temp,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){axios.interceptors.request.eject(this.reqInterceptor);axios.interceptors.response.eject(this.resInterceptor);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Aux,{children:[/*#__PURE__*/_jsx(Modal,{show:this.state.error,modalClosed:this.errorConfirmedHandler,children:this.state.error?this.state.error.message:null}),/*#__PURE__*/_jsx(WrappedComponet,_objectSpread({},this.props))]});}}]);return _temp;}(Component),_temp;};export default withErrorHandler;","map":{"version":3,"sources":["/Users/ump/Desktop/Udemy/React The Complete Guide(incl Hooks,React Rounter,Redux)/burgerbuilder/src/hoc/withErrorHandler/withErrorHandler.js"],"names":["React","Component","Modal","Aux","withErrorHandler","WrappedComponet","axios","props","errorConfirmedHandler","setState","error","state","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","eject","message"],"mappings":"qnCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,KAAP,KAAkB,iCAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,YAAhB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,eAAD,CAAkBC,KAAlB,CAA4B,WACpD,0GACC,eAAYC,KAAZ,CAAmB,uCAClB,uBAAMA,KAAN,EADkB,MAuBnBC,qBAvBmB,CAuBK,UAAM,CAC7B,MAAKC,QAAL,CAAc,CAAEC,KAAK,CAAE,IAAT,CAAd,EACA,CAzBkB,CAElB,MAAKC,KAAL,CAAa,CACZD,KAAK,CAAE,IADK,CAAb,CAIA,MAAKE,cAAL,CAAsBN,KAAK,CAACO,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,SAACC,GAAD,CAAS,CAC7D,MAAKP,QAAL,CAAc,CAAEC,KAAK,CAAE,IAAT,CAAd,EACA,MAAOM,CAAAA,GAAP,CACA,CAHqB,CAAtB,CAIA,MAAKC,cAAL,CAAsBX,KAAK,CAACO,YAAN,CAAmBK,QAAnB,CAA4BH,GAA5B,CACrB,SAACI,GAAD,QAASA,CAAAA,GAAT,EADqB,CAErB,SAACT,KAAD,CAAW,CACV,MAAKD,QAAL,CAAc,CAAEC,KAAK,CAAEA,KAAT,CAAd,EACA,CAJoB,CAAtB,CAVkB,aAgBlB,CAjBF,qFAmBwB,CACtBJ,KAAK,CAACO,YAAN,CAAmBC,OAAnB,CAA2BM,KAA3B,CAAiC,KAAKR,cAAtC,EACAN,KAAK,CAACO,YAAN,CAAmBK,QAAnB,CAA4BE,KAA5B,CAAkC,KAAKH,cAAvC,EACA,CAtBF,uCA2BU,CACR,mBACC,MAAC,GAAD,yBACC,KAAC,KAAD,EACC,IAAI,CAAE,KAAKN,KAAL,CAAWD,KADlB,CAEC,WAAW,CAAE,KAAKF,qBAFnB,UAIE,KAAKG,KAAL,CAAWD,KAAX,CAAmB,KAAKC,KAAL,CAAWD,KAAX,CAAiBW,OAApC,CAA8C,IAJhD,EADD,cAOC,KAAC,eAAD,kBAAqB,KAAKd,KAA1B,EAPD,GADD,CAWA,CAvCF,mBAAqBN,SAArB,QAyCA,CA1CD,CA4CA,cAAeG,CAAAA,gBAAf","sourcesContent":["import React, { Component } from \"react\";\n\nimport Modal from \"../../components/UI/Modal/Modal\";\nimport Aux from \"../Aux/Aux\";\n\nconst withErrorHandler = (WrappedComponet, axios) => {\n\treturn class extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\terror: null,\n\t\t\t};\n\n\t\t\tthis.reqInterceptor = axios.interceptors.request.use((req) => {\n\t\t\t\tthis.setState({ error: null });\n\t\t\t\treturn req;\n\t\t\t});\n\t\t\tthis.resInterceptor = axios.interceptors.response.use(\n\t\t\t\t(res) => res,\n\t\t\t\t(error) => {\n\t\t\t\t\tthis.setState({ error: error });\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\taxios.interceptors.request.eject(this.reqInterceptor);\n\t\t\taxios.interceptors.response.eject(this.resInterceptor);\n\t\t}\n\n\t\terrorConfirmedHandler = () => {\n\t\t\tthis.setState({ error: null });\n\t\t};\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<Aux>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\tshow={this.state.error}\n\t\t\t\t\t\tmodalClosed={this.errorConfirmedHandler}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.state.error ? this.state.error.message : null}\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<WrappedComponet {...this.props} />\n\t\t\t\t</Aux>\n\t\t\t);\n\t\t}\n\t};\n};\n\nexport default withErrorHandler;\n"]},"metadata":{},"sourceType":"module"}